\section{Implementation}
Putting the theory into practice,
let us implement our algorithm in a reversible system.
Our language of choice is the extended version\cite{extjanus} of Janus\cite{janus2007}.
The extra features provided make managing a larger program much easier
than it would've been in base Janus.

Despite the lack of documentation and downloadable executables,
it was possible to implement and run the FFT algorithm.
The code is included in appendix \ref{app:code}.
The results from a test run is shown in figure \ref{fig:test},
where we see the program successfully computing the FFT of an input signal.
The test signal is a combination of two sine curves with different frequencies,
and the FFT is shown to identify these.

Complex numbers are represented by arrays of 2 elements each.
Two arrays are used for the real and imaginary components of the signal.
The same is true for the twiddle factors.
To simplify things, numerical operations for complex numbers are implemented as procedures.

The program tries to mimic the structure of the lattice diagram shown in figure \ref{fig:lattice}.
There are procedures for scrambling, multiplication of odds,
and convolution of even-odd solution pairs.
The \texttt{fft} and \texttt{step} invoke these procedures in layered steps
with parameters unique to each step.

The bit depth of the twiddle factor was chosen somewhat arbitrarily to be 16.
The depth of the input is up to the user,
but 16 bits was also chosen for the test.
This seemed fitting, as most sound is stored in a signed 16 bit format.

\begin{figure}
    \centering
    \begin{subfigure}[b]{0.8\textwidth}
        \resizebox{\textwidth}{!}{\input{fft_input.pgf}}
        \caption{Input signal: two combined sine functions with frequencies $1/3$ and $1/7$.}
    \end{subfigure}
    \begin{subfigure}[b]{0.8\textwidth}
        \resizebox{\textwidth}{!}{\input{fft_result.pgf}}
        \caption{Magnitude of FFT result.}
    \end{subfigure}
    \caption{Results from a test run of the Janus FFT implementation.\label{fig:test}}
\end{figure}
